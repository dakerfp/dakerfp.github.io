<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme" content="hugo-academic">
    <meta name="generator" content="Hugo 0.16" />
    <meta name="author" content="Daker Fernandes Pinheiro">
    <meta name="description" content="Software Engineer &amp; MS Candidate for Computer Graphics">

    <link rel="stylesheet" href="http://dakerfp.github.io/css/highlight.min.css">
    <link rel="stylesheet" href="http://dakerfp.github.io/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://dakerfp.github.io/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://dakerfp.github.io/css/academicons.min.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
    <link rel="stylesheet" href="http://dakerfp.github.io/css/hugo-academic.css">
    


    <link rel="shortcut icon" href="http://dakerfp.github.io/img/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="http://dakerfp.github.io/post/diagnosticar-4-abductive-reasoning/">

    <title>DiagnostiCar (4) - Abductive Reasoning | Daker Pinheiro</title>

</head>
<body id="top">


<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
    <div class="container">

        
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://dakerfp.github.io/">Daker Pinheiro</a>
        </div>

        
        <div class="collapse navbar-collapse" id="#navbar-collapse-1">

            
            <ul class="nav navbar-nav navbar-right">
                
                <li class="nav-item"><a href="http://dakerfp.github.io/#top">Home</a></li>
                
                <li class="nav-item"><a href="http://dakerfp.github.io/#publications">Publications</a></li>
                
                <li class="nav-item"><a href="http://dakerfp.github.io/#posts">Posts</a></li>
                
                <li class="nav-item"><a href="http://dakerfp.github.io/#projects">Projects</a></li>
                
                <li class="nav-item"><a href="http://dakerfp.github.io/#experience">Experience</a></li>
                
                <li class="nav-item"><a href="http://dakerfp.github.io/#contact">Contact</a></li>
                
            </ul>

        </div>
    </div>
</nav>

<div class="container">

    <article class="article" itemscope itemtype="http://schema.org/Article">

        

        <h1 itemprop="name">DiagnostiCar (4) - Abductive Reasoning</h1>

        

<div class="article-metadata">

    <span class="article-date">
        <time datetime="2010-07-29 00:00:00 &#43;0000 UTC" itemprop="datePublished">Thu, Jul 29, 2010</time>
    </span>

    
    
    
    <span class="article-tags">
        <i class="fa fa-tags"></i>
        
        <a class="article-tag-link" href="http://dakerfp.github.io/tags/abduction">abduction</a>, 
        
        <a class="article-tag-link" href="http://dakerfp.github.io/tags/diagnosticar">diagnosticar</a>, 
        
        <a class="article-tag-link" href="http://dakerfp.github.io/tags/logic">logic</a>, 
        
        <a class="article-tag-link" href="http://dakerfp.github.io/tags/prolog">prolog</a>, 
        
        <a class="article-tag-link" href="http://dakerfp.github.io/tags/reasoning">reasoning</a>, 
        
        <a class="article-tag-link" href="http://dakerfp.github.io/tags/swi">swi</a>
        
    </span>
    
    

    
        
<div class="share-box">
    <ul class="share">
        <li>
            <a class="facebook" href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fdakerfp.github.io%2fpost%2fdiagnosticar-4-abductive-reasoning%2f" target="_blank">
                <i class="fa fa-facebook"></i>
            </a>
        </li>
        <li>
            <a class="twitter" href="https://twitter.com/intent/tweet?text=DiagnostiCar%20%284%29%20-%20Abductive%20Reasoning&amp;url=http%3a%2f%2fdakerfp.github.io%2fpost%2fdiagnosticar-4-abductive-reasoning%2f" target="_blank">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        <li>
            <a class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fdakerfp.github.io%2fpost%2fdiagnosticar-4-abductive-reasoning%2f&amp;title=DiagnostiCar%20%284%29%20-%20Abductive%20Reasoning" target="_blank">
                <i class="fa fa-linkedin"></i>
            </a>
        </li>
        <li>
            <a class="weibo" href="http://service.weibo.com/share/share.php?url=http%3a%2f%2fdakerfp.github.io%2fpost%2fdiagnosticar-4-abductive-reasoning%2f&amp;title=DiagnostiCar%20%284%29%20-%20Abductive%20Reasoning" target="_blank">
                <i class="fa fa-weibo"></i>
            </a>
        </li>
        <li>
            <a class="email" href="mailto:?subject=DiagnostiCar%20%284%29%20-%20Abductive%20Reasoning&amp;body=http%3a%2f%2fdakerfp.github.io%2fpost%2fdiagnosticar-4-abductive-reasoning%2f">
                <i class="fa fa-envelope"></i>
            </a>
        </li>
    </ul>
</div>


    

</div>


        <div class="article-style" itemprop="articleBody">
            <p>Finally I had some time to write about abductive reasoning, the core of
the DiagnostiCar expert system. As you may know from my <a href="http://codecereal.blogspot.com/2010/04/diagnosticar-introduction.html">previous posts</a>
(means you&rsquo;re tough and reached this point), the abductive reasoning
tries to infer what facts implies a given situation.</p>

<p>To build such a reasoning we must start with the conclusion and try to
prove it. Let&rsquo;s say that we have the following scenario:</p>

<pre><code class="language-prolog">known mortal(X) &lt;- human(X).
known human(socrates).
</code></pre>

<p>How abductive reasoning behaves when tries to find out what things are
mortal?</p>

<p>The first step is to check if <strong>mortal(X)</strong> is a tautology such as:</p>

<pre><code class="language-prolog">known mortal(xerxes).
</code></pre>

<p>As in our example there isn&rsquo;t such tautology the reasoning agent must
try to find a rule which implies that something is mortal. In our case
proceeds that <code>mortal(X) &lt;- human(X)</code> so to prove that something is
mortal we have to prove that it is human. The first step is then
repeated and we reach the tautology <code>human(socrates)</code> which asserts
that Socrates is mortal.</p>

<p><strong>Note</strong> that we have no difference with we try to use Prolog directly:</p>

<pre><code class="language-prolog">mortal(X) :-
    human(X).

human(socrates).
</code></pre>

<p>Now consider a non trivial example. Imagine that we want to prove that
<code>mortal(aristoteles)</code> but we may let the reasoner conclude that such
affirmation is only possible if Aristoteles is a human. Pretty smart
huh? That&rsquo;s what abductive reasoning is capable of. To build such a
predicate we will need to know not only what are proving but also the
user id (to ask questions when possible) and a list to yield what is
being assumed.</p>

<p>Lets try to prove a goal using the following rules (together with
the Prolog code):</p>

<p>1 - Check if the goal is a tautology:</p>

<pre><code class="language-prolog">abduction(_, Goal, _) :-
    known(Goal).
</code></pre>

<p>2 - Check equalities:</p>

<pre><code class="language-prolog">abduction(_, Value == Value, _) :-
    Value = Value.

abduction(_, Value \= Value, _) :-
    Value \= Value.
</code></pre>

<p>3 - Check if the goal is implied by something else:</p>

<pre><code class="language-prolog">abduction(Uid, Goal, Assuming) :-
    known(Goal &lt;- Cause),
    abduction(Uid, Cause, Assuming).
</code></pre>

<p>4 - If the goal is an or or an and conjunction:</p>

<pre><code class="language-prolog">abduction(Uid, Left &amp; Right, Assuming) :-
    abduction(Uid, Left, Assuming),
    abduction(Uid, Right, Assuming).

abduction(Uid, Left v _, Assuming) :-
    abduction(Uid, Left, Assuming).

abduction(Uid,_ v Right,Assuming) :-
    abduction(Uid, Right, Assuming).
</code></pre>

<p>5 - Ask the user:</p>

<pre><code class="language-prolog">abduction(Uid, Goal, _) :-
    functor(Goal,Question,1), 
    askable(Question),
    arg(1,Goal,Answer),
    ask(Uid,Question,Answer). % Defined in a previous post
</code></pre>

<p>6 - Make an assumption:</p>

<pre><code class="language-prolog">abduction(_, Goal, Assuming) :-
    assumable(Goal),
    member(Goal, Assuming).
    % Says that the goal must be assumed to reach the goal.
</code></pre>

<p>This does it&rsquo;s task but we still have some problems. The first one is
the lack of constraints. This reasoning doesn&rsquo;t consider if you assume
something that implies in a contradiction. e.g.: <code>known false &lt;-
mortal(X) &amp; immortal(X)</code>. Another problem we can observe is that the
system doesn&rsquo;t follow the Occam&rsquo;s razor principle, which affirms that
between two valid explanation the simplest tends to be true. Finally we
have a crucial problem is a infinite loop occurence when you try to
prove the negation of something and the goal is a tautology.</p>

<p>Let&rsquo;s solve those problems by parts. The first can be solved with a
predicate which proves the goal and doesn&rsquo;t reach a contradiction at the
same time:</p>

<pre><code class="language-prolog">reason(Uid, Goal, Assuming) :-
    abductive_reasoning(Uid, Goal, Assuming),
    not(abductive_reasoning(Uid, false, Assuming)).
</code></pre>

<p>But that predicate falls directly to the third problem. To solve this
problem, the must intuitive solution is do a search starting with a
empty list of assumptions and try incrementing the list size until it
reachs a cutoff that you may assume that there is no explanation bigger
than that. A simple and clear implementation of that would be:</p>

<pre><code class="language-prolog">max_assumptions(5).
abductive_reasoning(Uid, Goal, Assuming) :-
    max_assumptions(Max),
    abduction(Uid, Goal, Assuming, Max).

abduction(Uid, Goal, Assuming, Depth) :-
    Depth &gt;= 0,
    max_assumptions(Max),
    Len is Max - Depth,
    length(Assuming, Len),
    abduction(Uid, Goal, Assuming).

abduction(Uid, Goal, Assuming, Depth) :-
    NextStep is Depth - 1,
    NextStep &gt;= 0,
    abduction(Uid, Goal, Assuming, NextStep).
</code></pre>

<p>It is not the most efficient code to handle code but works fine. You
can avoid process a search path again by creating a dynamic predicate
and asserting when a branch of the search is truth or false. It may use
a lot of memory but it helps to execute faster.</p>

        </div>

    </article>

    <nav>
    <ul class="pager">
        
        <li class="previous"><a href="http://dakerfp.github.io/post/diagnosticar-2-knowledge-representation-language/"><span aria-hidden="true">&larr;</span> DiagnostiCar (2) - Knowledge Representation Language</a></li>
        

        
        <li class="next"><a href="http://dakerfp.github.io/post/mongodb-presentation/">MongoDB Presentation <span aria-hidden="true">&rarr;</span></a></li>
        
    </ul>
</nav>

    
<section id="comments">
    <div id="disqus_thread">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'dakerfp';
    var disqus_identifier = 'http:\/\/dakerfp.github.io\/post\/diagnosticar-4-abductive-reasoning\/';
    var disqus_title = 'DiagnostiCar (4) - Abductive Reasoning';
    var disqus_url = 'http:\/\/dakerfp.github.io\/post\/diagnosticar-4-abductive-reasoning\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
</section>



</div>
<footer class="site-footer">
    <div class="container">
        <p class="powered-by">

            &copy; 2016 Daker Fernandes Pinheiro &middot; 

            Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

            <span class="pull-right"><a href="#" id="back_to_top"><span class="button_icon"><i class="fa fa-chevron-up fa-2x" aria-hidden="true"></i></span></a></span>

        </p>
    </div>
</footer>

        <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
        <script src="http://dakerfp.github.io/js/jquery-1.12.3.min.js"></script>
        <script src="http://dakerfp.github.io/js/bootstrap.min.js"></script>
        <script src="http://dakerfp.github.io/js/hugo-academic.js"></script>
        

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-80351639-1', 'auto');
            ga('send', 'pageview');

             
            var links = document.querySelectorAll('a');
            Array.prototype.map.call(links, function(item) {
                if (item.host != document.location.host) {
                    item.addEventListener('click', function() {
                        var action = item.getAttribute('data-action') || 'follow';
                        ga('send', 'event', 'outbound', action, item.href);
                    });
                }
            });
        </script>
        

        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        
        

    </body>
</html>

